<div class="auth-container" style="max-width: 600px;">
    <h1>Edit Profile</h1>

    {{#if error}}
    <div class="error" style="text-align: center; margin-bottom: 15px;">{{error}}</div>
    {{/if}}

    <form action="/edit-profile" method="POST" enctype="multipart/form-data">

        <!--edit username-->
        <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username" name="username" value="{{user.username}}" required>
        </div>

        <!--change email-->
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" value="{{user.email}}" required>
        </div>

        <!-- borough dropdown -->
        <div class="form-group">
            <label for="borough">Borough</label>
            <select id="borough" name="borough" required>
                <option value="Manhattan" {{#equals user.borough "Manhattan" }}selected{{/equals}}>Manhattan</option>
                <option value="Brooklyn" {{#equals user.borough "Brooklyn" }}selected{{/equals}}>Brooklyn</option>
                <option value="Queens" {{#equals user.borough "Queens" }}selected{{/equals}}>Queens</option>
                <option value="Bronx" {{#equals user.borough "Bronx" }}selected{{/equals}}>Bronx</option>
                <option value="Staten Island" {{#equals user.borough "Staten Island" }}selected{{/equals}}>Staten Island
                </option>
                <option value="None" {{#equals user.borough "None" }}selected{{/equals}}>None</option>
            </select>
        </div>

        <!-- pfp  -->
        <div class="form-group">
            <label for="profile_picture">Profile Picture</label>
            {{#if user.profile_picture}}
            <div style="margin-bottom: 10px; text-align: center;">
                <img src="{{user.profile_picture}}" alt="Current Profile Picture"
                    style="width: 100px; height: 100px; object-fit: cover; border-radius: 50%; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
            </div>
            {{/if}}
            <input type="file" id="profile_picture" name="profile_picture" accept="image/*" style="padding: 10px;">
            <small style="color: #666; display: block; margin-top: 5px;">Upload a new image to replace your current
                picture.</small>
        </div>

        <!--sensitive content checkbox-->
        <div class="form-group" style="display: flex; align-items: center; gap: 10px;">
            <input type="checkbox" id="hideSensitiveContent" name="hideSensitiveContent" {{#if
                user.hideSensitiveContent}}checked{{/if}} style="width: auto; margin: 0;">
            <label for="hideSensitiveContent" style="margin: 0; font-weight: normal; cursor: pointer;">Hide Sensitive
                Content</label>
        </div>

        <!-- submit/cancel options -->
        <div class="form-actions" style="display: flex; gap: 10px; margin-top: 20px;">
            <button type="submit" class="button-primary" style="flex: 1;">Save Changes</button>
            <a href="/profile" class="button-secondary" style="flex: 1;">Cancel</a>
        </div>

    </form>
</div>